import ParamsRow from "../../../components/ParamsRow";
import CollapsibleParams from "../../../components/CollapsibleParams";

# Create

Creates a feature with the given properties.

## Endpoint

`POST /api/feature/{featureId}`

## The feature object

```json
{
  "id": "test-feature",
  "archived": false,
  "description": "This is a test feature",
  "owner": "Team A",
  "project": "Project 1",
  "valueType": "string",
  "defaultValue": "success",
  "tags": ["onboarding", "CTA"],
  "environmentSettings": {
    "production": {
      "enabled": true,
      "rules": [
        {
          "description": "rule 1",
          "id": "rule-1",
          "enabled": true
        }
      ]
    }
  },
  "draft": {
    "active": true,
    "dateCreated": "2020-01-01T00:00:00.000Z",
    "dateUpdated": "2020-01-01T00:00:00.000Z",
    "defaultValue": "success",
    "rules": {
      "rule-1": [
        {
          "description": "rule 1",
          "id": "rule-1",
          "enabled": true
        }
      ]
    }
  },
  "revision": {
    "version": "1.0.0",
    "comment": "Initial version",
    "date": "2020-01-01T00:00:00.000Z",
    "publishedBy": {
      "id": "user-1",
      "name": "John Doe",
      "email": "johndoe@******.com"
    }
  }
}
```

## Attributes

| Attribute           | Type    | Description                            |
| ------------------- | ------- | -------------------------------------- |
| id                  | string  | The unique identifier of the feature   |
| archived            | boolean | Whether the feature is archived or not |
| description         | string  | A description of the feature           |
| organization        | string  | The unique organization identifier     |
| owner               | string  | The owner of the feature               |
| project             | string  | The project the feature belongs to     |
| dateCreated         | string  | The date the feature was created       |
| dateUpdated         | string  | The date the feature was last updated  |
| valueType           | string  | The type of the feature value          |
| defaultValue        | string  | The default value of the feature       |
| tags                | array   | An array of tags                       |
| environmentSettings | object  | The environment settings               |
| draft               | object  | The draft settings                     |
| revision            | object  | The revision settings                  |

## Create feature request

<section className="text-sm">
  <div class="text-lg font-bold">Headers</div>
  <ParamsRow
    name="Authorization"
    type="Bearer <access_token>"
    description="access_token for API authentication"
    hr={false}
  />
</section>

<section className="text-sm mt-5">
  <div class="flex justify-between text-lg font-bold mb-3">
    <div>Parameters</div>
    <div>Default Value</div>
  </div>
  <ParamsRow
    name="id"
    type="string"
    description="The unique identifier of the feature"
    hr={false}
  />
  <ParamsRow
    name="owner"
    type="string"
    description="The owner of the feature"
  />
  <ParamsRow
    name="valueType"
    type="'boolean' | 'string' | 'number' | 'json'"
    description="The type of the feature value"
  />
  <ParamsRow
    name="defaultValue"
    type="string"
    description="The default value of the feature"
  />
  <div class="flex justify-between">
    <ParamsRow
      name="archived"
      required={false}
      type="boolean"
      description="Whether the feature is archived or not"
      defaultValueHTML="archived: false"
    />
  </div>
  <ParamsRow
    name="description"
    required={false}
    type="string"
    description="A description of the feature"
    defaultValueHTML={`description: ""`}
  />
  <ParamsRow
    name="project"
    required={false}
    type="string"
    description="The project the feature belongs to"
    defaultValueHTML={`project: ""`}
  />
  <ParamsRow
    name="tags"
    required={false}
    type="Array<string>"
    description="An array of tags"
    defaultValueHTML={`tags: []`}
  />
  <div>
    <ParamsRow
      name="environmentSettings"
      required={false}
      type="object"
      description="The environment settings"
      defaultValueHTML={`environmentSettings: {}`}
    />
    <CollapsibleParams>
      <>
        <ParamsRow
          type="string"
          description="The environment name"
          hr={false}
        />
        <div>
          <ParamsRow type="object" description="Feature environment" />
          <CollapsibleParams>
            <>
              <ParamsRow
                name="enabled"
                type="boolean"
                description="Whether the feature is enabled or not"
                hr={false}
              />
              <ParamsRow
                name="rules"
                type="Array<FeatureRule>"
                description="The rules for the feature"
                href="/types/feature-rule"
                hrefName="view FeatureRule"
              />
            </>
          </CollapsibleParams>
        </div>
      </>
    </CollapsibleParams>
  </div>
  <div>
    <ParamsRow
      name="draft"
      required={false}
      type="object"
      description="The draft settings"
      defaultValueHTML={`draft: undefined`}
    />
    <CollapsibleParams>
      <>
        <ParamsRow
          name="active"
          type="boolean"
          description="Whether the draft is active or not"
          hr={false}
        />
        <ParamsRow
          name="dateCreated"
          required={false}
          type="string"
          description="The date the draft was created"
        />
        <ParamsRow
          name="dateUpdated"
          required={false}
          type="string"
          description="The date the draft was last updated"
        />
        <ParamsRow
          name="defaultValue"
          required={false}
          type="string"
          description="The default value of the feature"
        />
        <ParamsRow name="comment" required={false} type="string" />
        <>
          <ParamsRow
            name="rules"
            required={false}
            type="Record<string, Array<FeatureRule>>"
            description="The rules for the feature"
          />
          <CollapsibleParams>
            <>
              <ParamsRow type="string" description="The rule id" hr={false} />
              <ParamsRow
                type="Array<FeatureRule>"
                description="The rules for the feature"
                href="/types/feature-rule"
                hrefName="view FeatureRule"
              />
            </>
          </CollapsibleParams>
        </>
      </>
    </CollapsibleParams>
  </div>
  <div>
    <ParamsRow
      name="revision"
      required={false}
      type="object"
      description="The revision settings"
      defaultValueHTML={`draft: undefined`}
    />
    <CollapsibleParams>
      <>
        <ParamsRow
          name="version"
          type="number"
          description="The version of the feature"
          hr={false}
        />
        <ParamsRow
          name="comment"
          type="string"
          description="The comment of the revision"
        />
        <ParamsRow
          name="date"
          type="string"
          description="The date the revision was created"
        />
        <div>
          <ParamsRow
            name="publishedBy"
            type="object"
            description="The user who published the revision"
          />
          <CollapsibleParams>
            <>
              <ParamsRow
                name="id"
                type="string"
                description="The unique identifier of the user"
                hr={false}
              />
              <ParamsRow
                name="name"
                type="string"
                description="The name of the user"
              />
              <ParamsRow
                name="email"
                type="string"
                description="The email of the user"
              />
            </>
          </CollapsibleParams>
        </div>
      </>
    </CollapsibleParams>
  </div>
</section>

## Example curl request

```bash
curl --location --request POST 'https://cdn.growthbook.io/api/features/feat_a8ab78d93' \
--header 'Authorization: Bearer key_acce_asdfASDF1234!@#$ASDFasdf1234!@#$' \
--header 'Content-Type: application/json' \
--data-raw '{
    "owner": "johndoe@******.com",
    "valueType": "string",
    "defaultValue": "test",
}'
```
